<!DOCTYPE html>
<!-- @<tests/visualize_a_baisc_usual_suspects_json -->
<html>
<head>
    <title>My Graph</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.19.0/cytoscape.min.js"></script>
</head>
<body>
    <div id="cy" style="width: 800px; height: 600px;"></div>
    <script type="text/javascript">
        // Function to get the URL parameter
        function getGraphUrlParameter() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            return urlParams.get('graphUrl');
        }

        // Get the graph URL from the query parameter
        const graphUrl = getGraphUrlParameter();

    fetch(graphUrl)
    .then(response => response.json())
    .then(rawData => {
        // Transform nodes
        const nodes = Object.keys(rawData.graph.nodes).map(key => {
            return {
                data: {
                    id: key,
                    ...rawData.graph.nodes[key]
                }
            };
        });

        // Transform edges
        const edges = rawData.graph.edges.map(edge => {
            return {
                data: edge
            };
        });

        // Combine nodes and edges
        const elements = nodes.concat(edges);

        // Initialize Cytoscape
        var cy = cytoscape({
            container: document.getElementById('cy'),
            elements: elements,
            style: [/* define your style here */],
            layout: {/* define your layout here */}
        });
    })
    .catch(error => {
        console.error('Error fetching the graph data:', error);
    });

    </script>
</body>
</html>
<!-- >@tests/visualize_a_baisc_usual_suspects_json -->
